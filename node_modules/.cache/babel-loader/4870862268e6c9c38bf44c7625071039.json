{"ast":null,"code":"import _toConsumableArray from\"C:/Users/kidam/Documents/GitHub/pomodoro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/kidam/Documents/GitHub/pomodoro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext,useState,useRef}from'react';import Button from'./components/Button';import TodoList from'./TodoList';import CountdownAnimation from'./components/CountdownAnimation';import SetPomodoro from'./components/SetPomodoro';import{SettingsContext}from'./context/SettingsContext';import{v4 as uuidv4}from'uuid';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LOCAL_STORAGE_KEY='todoApp.todos';var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];var todoNameRef=useRef();var _useContext=useContext(SettingsContext),pomodoro=_useContext.pomodoro,executing=_useContext.executing,startAnimate=_useContext.startAnimate,children=_useContext.children,startTimer=_useContext.startTimer,pauseTimer=_useContext.pauseTimer,updateExecute=_useContext.updateExecute,setCurrentTimer=_useContext.setCurrentTimer,SettingsBtn=_useContext.SettingsBtn,buttonText=_useContext.buttonText;useEffect(function(){updateExecute(executing);},[executing,startAnimate]);useEffect(function(){var storedTodos=JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));if(storedTodos)setTodos(storedTodos);},[]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(todos));},[todos]);function toggleTodo(id){var newTodos=_toConsumableArray(todos);var todo=newTodos.find(function(todo){return todo.id===id;});todo.complete=!todo.complete;setTodos(newTodos);}function handleAddTodo(e){var name=todoNameRef.current.value;if(name==='')return;setTodos(function(prevTodos){return[].concat(_toConsumableArray(prevTodos),[{id:uuidv4(),name:name,complete:false}]);});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"pomotomo\"}),pomodoro!==0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{title:\"settings\",_callback:SettingsBtn}),/*#__PURE__*/_jsxs(\"ul\",{className:\"labels\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{title:\"work\",activeClass:executing.active==='work'?'active-label':undefined,_callback:function _callback(){return setCurrentTimer('work');}//onClick= {document.documentElement.style.setProperty('--color', '#9974ba')}\n})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{title:\"short break\",activeClass:executing.active==='short'?'active-label':undefined,_callback:function _callback(){return setCurrentTimer('short');}//onClick= {document.documentElement.style.setProperty('--color', '#74BA7B')} \n})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{title:\"long break\",activeClass:executing.active==='long'?'active-label':undefined,_callback:function _callback(){return setCurrentTimer('long');}//onClick= {document.documentElement.style.setProperty('--color', '#7490ba')}\n})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"timer-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"time-wrapper\",children:/*#__PURE__*/_jsx(CountdownAnimation,{timer:pomodoro,animate:startAnimate,children:children},pomodoro)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-wrapper\",children:[/*#__PURE__*/_jsx(Button,{title:\"start\",activeClass:!startAnimate?'active':undefined,_callback:startTimer,onClick:true}),/*#__PURE__*/_jsx(Button,{title:\"pause\",activeClass:startAnimate?'active':undefined,_callback:pauseTimer})]}),/*#__PURE__*/_jsx(TodoList,{todos:todos,toggleTodo:toggleTodo}),/*#__PURE__*/_jsx(\"input\",{ref:todoNameRef,type:\"text\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddTodo,children:\"add todo\"}),/*#__PURE__*/_jsxs(\"div\",{children:[todos.filter(function(todo){return!todo.complete;}).length,\" left to do\"]})]}):/*#__PURE__*/_jsx(SetPomodoro,{})]});};export default App;","map":{"version":3,"sources":["C:/Users/kidam/Documents/GitHub/pomodoro/src/App.js"],"names":["React","useEffect","useContext","useState","useRef","Button","TodoList","CountdownAnimation","SetPomodoro","SettingsContext","v4","uuidv4","LOCAL_STORAGE_KEY","App","todos","setTodos","todoNameRef","pomodoro","executing","startAnimate","children","startTimer","pauseTimer","updateExecute","setCurrentTimer","SettingsBtn","buttonText","storedTodos","JSON","parse","localStorage","getItem","setItem","stringify","toggleTodo","id","newTodos","todo","find","complete","handleAddTodo","e","name","current","value","prevTodos","active","undefined","filter","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState, useRef } from 'react'\r\nimport Button from './components/Button'\r\nimport TodoList from './TodoList'\r\nimport CountdownAnimation from './components/CountdownAnimation'\r\nimport SetPomodoro from './components/SetPomodoro'\r\nimport { SettingsContext } from './context/SettingsContext'\r\nimport {v4 as uuidv4} from 'uuid'\r\nimport './index.css';\r\n\r\n\r\nconst LOCAL_STORAGE_KEY = 'todoApp.todos'\r\nconst App = () => {\r\n  const [todos, setTodos] = useState([])\r\n  const todoNameRef = useRef()\r\n\r\n  const {\r\n    pomodoro,\r\n    executing,\r\n    startAnimate,\r\n    children,\r\n    startTimer,\r\n    pauseTimer,\r\n    updateExecute,\r\n    setCurrentTimer,\r\n    SettingsBtn,\r\n    buttonText } = useContext(SettingsContext)\r\n\r\n    useEffect(() => {updateExecute(executing)}, [executing, startAnimate])\r\n\r\n    useEffect(() =>{\r\n      const storedTodos = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY))\r\n      if (storedTodos) setTodos(storedTodos)\r\n    }, [])\r\n  \r\n    useEffect(() =>{\r\n      localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(todos))\r\n    }, [todos])\r\n  \r\n  function toggleTodo(id){\r\n    const newTodos = [...todos]\r\n    const todo = newTodos.find(todo => todo.id === id)\r\n    todo.complete = !todo.complete\r\n    setTodos(newTodos)\r\n  }\r\n  \r\n    function handleAddTodo(e){\r\n        const name = todoNameRef.current.value\r\n        if (name === '') return\r\n        setTodos(prevTodos => {\r\n          return [...prevTodos, { id: uuidv4(), name: name, complete: false}]\r\n        })\r\n    }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>pomotomo</h1>\r\n      {pomodoro !== 0 ?\r\n      <>\r\n      <Button title=\"settings\" _callback={SettingsBtn} />\r\n        <ul className=\"labels\">\r\n          <li>\r\n            <Button \r\n              title=\"work\" \r\n              activeClass={executing.active === 'work' ? 'active-label' : undefined} \r\n              _callback={() => setCurrentTimer('work') } \r\n              //onClick= {document.documentElement.style.setProperty('--color', '#9974ba')}\r\n            />\r\n          </li>\r\n          <li>\r\n            <Button \r\n              title=\"short break\" \r\n              activeClass={executing.active === 'short' ? 'active-label' : undefined} \r\n              _callback={() => setCurrentTimer('short')}\r\n              //onClick= {document.documentElement.style.setProperty('--color', '#74BA7B')} \r\n            />\r\n          </li>\r\n          <li>\r\n            <Button \r\n              title=\"long break\" \r\n              activeClass={executing.active === 'long' ? 'active-label' : undefined} \r\n              _callback={() => setCurrentTimer('long')} \r\n              //onClick= {document.documentElement.style.setProperty('--color', '#7490ba')}\r\n            />\r\n          </li>\r\n        </ul>\r\n        \r\n        <div className=\"timer-container\">\r\n          <div className=\"time-wrapper\">\r\n              <CountdownAnimation\r\n                key={pomodoro} \r\n                timer={pomodoro} \r\n                animate={startAnimate}\r\n              >\r\n                {children}\r\n              </CountdownAnimation>\r\n          </div>\r\n        </div>\r\n        <div className=\"button-wrapper\">\r\n          <Button title=\"start\" activeClass={!startAnimate ? 'active' : undefined} _callback={startTimer} onClick/>\r\n          <Button title=\"pause\" activeClass={startAnimate ? 'active' : undefined} _callback={pauseTimer} />\r\n        </div>\r\n        <TodoList todos={todos} toggleTodo={toggleTodo}/>\r\n      <input ref={todoNameRef} type=\"text\"/>\r\n      <button onClick={handleAddTodo}>add todo</button>\r\n      <div>{todos.filter(todo => !todo.complete).length} left to do</div>\r\n    \r\n      </> : <SetPomodoro />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n"]},"metadata":{},"sourceType":"module"}